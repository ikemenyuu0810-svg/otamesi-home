<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>Fullscreen Background Slideshow</title>
<style>
  html, body {
    margin: 0;
    width: 100%;
    height: 100%;
  }

  /* 背景コンテナ */
  #bg-container {
    position: fixed;
    inset: 0;
    z-index: -1;
    overflow: hidden;
  }

  /* 背景画像（2枚重ねてクロスフェード） */
  .bg-img {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;              /* 拡大率・画面比率対応 */
    opacity: 0;
    transition: opacity 2.5s ease-in-out;
    pointer-events: none;
  }

  .bg-img.active {
    opacity: 1;
  }

  /* サンプル用コンテンツ */
  main {
    padding: 40px;
    color: white;
    font-size: 24px;
  }
</style>
</head>
<body>

<!-- 背景 -->
<div id="bg-container">
  <img class="bg-img active" src="BGIMG_1.jpeg">
  <img class="bg-img" src="">
</div>

<!-- ページ内容 -->
<main>
  <h1>縦長ページ</h1>
  <p>スクロールしても背景は固定</p>
  <div style="height:3000px"></div>
</main>

<script>
  // 画像リスト
  const images = [];
  for (let i = 1; i <= 10; i++) {
    images.push(`BGIMG_${i}.jpeg`);
  }

  const bgImgs = document.querySelectorAll(".bg-img");
  let visible = 0;
  let index = 0;

  const INTERVAL = 10000; // 10秒

  function changeBackground() {
    const next = (visible + 1) % 2;
    index = (index + 1) % images.length;

    bgImgs[next].src = images[index];

    // クロスフェード
    bgImgs[visible].classList.remove("active");
    bgImgs[next].classList.add("active");

    visible = next;
  }

  setInterval(changeBackground, INTERVAL);

  // ズーム・リサイズ対策（保険）
  window.addEventListener("resize", () => {
    bgImgs.forEach(img => {
      img.style.width = "100%";
      img.style.height = "100%";
    });
  });
</script>

</body>
</html>

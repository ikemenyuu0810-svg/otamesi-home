<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>Fullscreen Background Slideshow</title>
<style>
  html, body {
    margin: 0;
    width: 100%;
    height: 100%;
  }

  /* 背景コンテナ */
  #bg-container {
    position: fixed;
    inset: 0;
    z-index: -1;
    overflow: hidden;
  }

  /* 背景画像（2枚でクロスフェード） */
  .bg-img {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0;
    transition: opacity 2.5s ease-in-out;
    pointer-events: none;
  }

  .bg-img.active {
    opacity: 1;
  }

  /* ボタンUI */
  #controls {
    position: fixed;
    bottom: 20px;
    right: 20px;
    display: flex;
    gap: 10px;
    z-index: 10;
  }

  #controls button {
    padding: 10px 16px;
    font-size: 14px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    background: rgba(0,0,0,0.6);
    color: #fff;
  }

  #controls button:hover {
    background: rgba(0,0,0,0.8);
  }

  /* サンプル用コンテンツ */
  main {
    padding: 40px;
    color: white;
    font-size: 24px;
  }
</style>
</head>
<body>

<!-- 背景 -->
<div id="bg-container">
  <img class="bg-img active" src="BGIMG_1.jpeg">
  <img class="bg-img" src="">
</div>

<!-- 切り替えボタン -->
<div id="controls">
  <button id="prev">◀ 前へ</button>
  <button id="next">次へ ▶</button>
</div>

<!-- ページ内容 -->
<main>
  <h1>縦長ページ</h1>
  <p>背景は10秒ごとに自動切替＋手動操作可能</p>
  <div style="height:3000px"></div>
</main>

<script>
  /* 画像リスト */
  const images = [];
  for (let i = 1; i <= 10; i++) {
    images.push(`BGIMG_${i}.jpeg`);
  }

  const bgImgs = document.querySelectorAll(".bg-img");
  let visible = 0;
  let index = 0;

  const INTERVAL = 10000; // 10秒
  let timer;

  function showImage(newIndex) {
    const next = (visible + 1) % 2;
    index = (newIndex + images.length) % images.length;

    bgImgs[next].src = images[index];

    bgImgs[visible].classList.remove("active");
    bgImgs[next].classList.add("active");

    visible = next;
  }

  function nextImage() {
    showImage(index + 1);
    resetTimer();
  }

  function prevImage() {
    showImage(index - 1);
    resetTimer();
  }

  function startTimer() {
    timer = setInterval(() => {
      showImage(index + 1);
    }, INTERVAL);
  }

  function resetTimer() {
    clearInterval(timer);
    startTimer();
  }

  document.getElementById("next").addEventListener("click", nextImage);
  document.getElementById("prev").addEventListener("click", prevImage);

  startTimer();

  /* ズーム・リサイズ対策（保険） */
  window.addEventListener("resize", () => {
    bgImgs.forEach(img => {
      img.style.width = "100%";
      img.style.height = "100%";
    });
  });
</script>

</body>
</html>
